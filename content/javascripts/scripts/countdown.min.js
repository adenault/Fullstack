!function($){jQuery.fn.countdown=function(t,n){var thisEl=$(this),r={name:"Test",date:t.date?t.date:null,format:null};t&&$.extend(r,t),interval=setInterval(i,1),myDate=r.date.split("-");var newDate=new Date(myDate[2],myDate[0]-1,myDate[1]);function i(){currentDate=Math.floor(Date.now()/1e3),eventDate<=currentDate&&clearInterval(interval),seconds=eventDate-currentDate,days=Math.floor(seconds/86400),seconds-=60*days*60*24,hours=Math.floor(seconds/3600),seconds-=60*hours*60,minutes=Math.floor(seconds/60),seconds-=60*minutes,1==days?thisEl.find(".timeRefDays").text("Day"):thisEl.find(".timeRefDays").text("Days"),hours,thisEl.find(".timeRefHours").text(":"),minutes,thisEl.find(".timeRefMinutes").text(":"),seconds,thisEl.find(".timeRefSeconds").text(""),"on"==r.format&&(days=String(days).length>=2?days:"0"+days+" ",hours=String(hours).length>=2?hours:"0"+hours,minutes=String(minutes).length>=2?minutes:"0"+minutes,seconds=String(seconds).length>=2?seconds:"0"+seconds),isNaN(eventDate)?(alert("Invalid date. Example: 30 Tuesday 2013 15:50:00"),clearInterval(interval)):(thisEl.find(".days").text(days),thisEl.find(".hours").text(hours),thisEl.find(".minutes").text(minutes),thisEl.find(".seconds").text(seconds))}eventDate=Math.round(newDate.getTime()/1e3),currentDate=Math.floor(Date.now()/1e3),eventDate>currentDate&&thisEl.html('<div class="countdown"><div>Countdown to Doom</div><div class="days">00</div> <div class="timeRefDays">Days</div><div class="hours">00</div><div class="timeRefHours">:</div> <div class="minutes">00</div><div class="timeRefMinutes">:</div><div class="seconds">00</div><div class="timeRefSeconds"></div> </div>'),i()}}(jQuery);